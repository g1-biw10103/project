<!DOCTYPE >
<html>
  <head>
    <title>Forum</title>
    <meta charset="UTF-8" />
    <meta name="viewpoint" content="width=device-width, initial-scale=1.0" />
    <link rel="stylesheet" href="/css/common.css" />
    <link rel="stylesheet" href="/css/discussion.css" />
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Inter:ital,opsz,wght@0,14..32,100..900;1,14..32,100..900&display=swap"
      rel="stylesheet"
    />
  </head>
  <body>
    <div class="topbar">
      <a href="homepage.html" class="icon-button">
        <img src="../images/icon.png" alt="Icon" width="64px" height="64px" />
      </a>
      <a href="homepage.html" class="topbar-button">Home</a>
      <a href="course-catalog.html" class="topbar-button">Course Catalog</a>
      <a href="progress.html" class="topbar-button">Progress Tracker</a>
      <a href="forum.html" class="topbar-button">Community</a>
      <a href="dashboard.html" class="topbar-button">Dashboard</a>
      <div class="nav-right">
        <a href="login.html" class="btn-outline">Log in</a>
        <a href="signup.html" class="btn-primary">Sign up</a>
      </div>
    </div>
    <div class="forum-header">
      <div class="header-content">
        <h1 class="title-lg">Forum</h1>
        <button class="submit">Post</button><br />
      </div>
    </div>

    <div class="container">
      <div class="post">
        <div class="post-header">
          <div class="post-profile">
            <img
              src="../images/profile-picture.png"
              alt="Profile"
              height="32"
              width="32"
            />
          </div>
          <div class="post-info">
            <h2 class="post-title">
              <strong>Anyone who wants to join my group?</strong>
            </h2>
            <p class="post-author">- Ali bin Abu - 2 hours ago</p>
          </div>
        </div>
        <div class="post-content">
          <p>
            I am making a group for the subject computer architecture project
            but we are missing 2 people to help fill the group. Do any of you
            are interested?
          </p>
        </div>
        <div class="post-actions">
          <button class="vote-btn upvote" data-vote="up">
            <img
              width="12"
              height="12"
              src="https://img.icons8.com/metro/26/long-arrow-up.png"
              alt="upvote"
            />
            <span class="vote-count">21</span>
          </button>
          <button class="vote-btn downvote" data-vote="down">
            <img
              width="12"
              height="12"
              src="https://img.icons8.com/metro/26/long-arrow-down.png"
              alt="downvote"
            />
            <span class="vote-count">1</span>
          </button>
        </div>
      </div>
      <div class="message-input">
        <form class="message-form">
          <input
            type="text"
            class="message-text"
            placeholder="Type your message"
          />
          <button type="submit" class="send-btn">Send</button>
        </form>
      </div>
    </div>

    <script>
      const voteButtons = document.querySelectorAll(".vote-btn");

      voteButtons.forEach((button) => {
        button.addEventListener("click", function (e) {
          e.preventDefault();

          const isUpvote = this.classList.contains("upvote");
          const voteCount = this.querySelector(".vote-count");
          let currentCount = parseInt(voteCount.textContent);

          // Get the opposite button
          const oppositeButton = isUpvote
            ? this.parentElement.querySelector(".downvote")
            : this.parentElement.querySelector(".upvote");
          const oppositeCount = oppositeButton.querySelector(".vote-count");
          let oppositeValue = parseInt(oppositeCount.textContent);

          // Toggle current button
          if (this.classList.contains("active")) {
            // Deactivate
            this.classList.remove("active");
            currentCount--;
          } else {
            // Activate current
            this.classList.add("active");
            currentCount++;

            // Remove opposite active state
            if (oppositeButton.classList.contains("active")) {
              oppositeButton.classList.remove("active");
              oppositeValue--;
              oppositeCount.textContent = oppositeValue;
            }
          }

          voteCount.textContent = currentCount;
        });
      });
    </script>
  </body>
</html>
